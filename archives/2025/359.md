---
title: å¾®ä¿¡å°ç¨‹åºå¼€å‘è®°å½•
number: '#359'
link: 'https://github.com/tofrankie/blog/issues/359'
created_at: '2025-05-14 11:45:14'
updated_at: '2025-12-14 18:50:01'
labels:
  - å°ç¨‹åº
  - å‰ç«¯
  - '2025'
---

![é…å›¾æºè‡ª Freepik](https://cdn.jsdelivr.net/gh/toFrankie/blog@main/images/2025/5/1747194248182.jpg)

> [!NOTE]
> ä¼—æ‰€å‘¨çŸ¥ï¼Œå¾®ä¿¡çš„æ–‡æ¡£å†™å¾—å¾ˆçƒ‚...

## å…³äºè·³è½¬è·¯å¾„

è€æ˜¯å¿˜è®°è·¯å¾„æ˜¯å¦éœ€è¦å‰å¯¼ `/`ï¼Œä½œä¸ªè®°å½•å§ã€‚ğŸ˜‘

- `page/index/index`
- `/page/index/index`

åœºæ™¯ï¼š

- **å°ç¨‹åºå†…çš„é¡µé¢è·³è½¬**ï¼šwx.navigateTo è¿™ç±» API çš„ `url` å‚æ•°ã€Œ**å¿…é¡»**ã€è¦æœ‰å‰å¯¼ `/`ã€‚
- **å°ç¨‹åºä¹‹é—´è·³è½¬**ï¼šwx.navigateToMiniProgram çš„ `path` å‚æ•°å‰å¯¼ `/` æ˜¯ã€Œ**å¯é€‰**ã€çš„ã€‚
- **åˆ†äº«/è½¬å‘**ï¼šonShareAppMessage çš„ `path` å‚æ•°ã€Œ**å¿…é¡»**ã€è¦æœ‰å‰å¯¼ `/`ã€‚
- **è®¢é˜…æ¶ˆæ¯**ï¼šè®¢é˜…æ¶ˆæ¯çš„ `page` å‚æ•°å‰å¯¼ `/` æ˜¯ã€Œ**å¯é€‰**ã€çš„ï¼ˆäº²æµ‹å‡å¯æ­£å¸¸è·³è½¬ï¼‰ã€‚

ç»“è®ºï¼š**å»ºè®®**éƒ½å¸¦ä¸Šå‰å¯¼ `/`ï¼ˆå¯ä»¥å°‘ç”¨ç‚¹è„‘å­ï¼‰ã€‚

ç›¸å…³é“¾æ¥ï¼š

- [è·¯ç”±](https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateTo.html)
- [onShareAppMessage](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onShareAppMessage-Object-object)
- [å‘é€è®¢é˜…æ¶ˆæ¯](https://developers.weixin.qq.com/miniprogram/dev/OpenApiDoc/mp-message-management/subscribe-message/sendMessage.html)
- [çŸ¥æ™“äº‘å‘é€å¾®ä¿¡è®¢é˜…æ¶ˆæ¯](https://doc.minapp.com/cloud-function/node-sdk/subscribe-message/wechat/subscribe-message.html)

## é¡µé¢åº•éƒ¨ margin-bottom å¤±æ•ˆ

è¿™ä¸ªç°è±¡å¼€å‘è¿‡å°ç¨‹åºçš„åŒå­¦åº”è¯¥éƒ½é‡åˆ°è¿‡ï¼Œå®ƒä»…å‘ç”Ÿåœ¨ iOS ä¸‹ï¼ŒAndroid å’Œå¼€å‘å·¥å…·æ˜¯ç¬¦åˆé¢„æœŸçš„ã€‚

```css
page {
  margin-bottom: 30rpx;
}
```

åœ¨ iOS ä¸‹ï¼Œå®é™…è¡¨ç°æ˜¯åº•éƒ¨ä¸‹å¤–è¾¹è·â€œç›¸å½“äºâ€æœªè®¾ç½®ï¼Œä¼šè¢«åæ‰ã€‚

è§£å†³æ–¹æ³•å¾ˆå¤šï¼Œä¹Ÿå¾ˆç®€å•ã€‚æ¯”å¦‚ï¼Œé¡µé¢åº•éƒ¨æ•´ä½“è®¾ç½®ä¸€ä¸ªä¸‹å†…è¾¹è·ï¼Œç„¶åå†å†…å±‚é€šè¿‡ view ç­‰è®¾ç½®ä¸‹å¤–è¾¹è·æ’‘å¼€ã€‚

```css
page {
  padding-bottom: 1px;
}
```

<details>
    <summary>åŸå› åˆ†æï¼ˆâš ï¸ æºè‡ª ChatGPTï¼Œä¸ä¸€å®šå‡†ç¡®ï¼‰</summary>
  
æ ¹æœ¬åŸå› æ˜¯ iOS WebView (WKWebView) åœ¨è®¡ç®—å¯æ»šåŠ¨å†…å®¹é«˜åº¦æ—¶ï¼Œå¯¹â€œæ–‡æ¡£æœ«å°¾ç”± margin äº§ç”Ÿçš„ç©ºç™½â€è¿›è¡Œäº†è£å‰ªã€‚

1. WebView çš„æ»šåŠ¨æœ¬è´¨

```
WKWebView
 â””â”€ UIScrollView
     â””â”€ Web content layer
```

æœ€ç»ˆèƒ½ä¸èƒ½æ»šåˆ°æŸä¸ªä½ç½®ï¼Œå–å†³äº UIScrollView.contentSize.height

2. contentSize æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿ

WKWebView åœ¨å†…éƒ¨ä¼šï¼š

```
1. WebKit è®¡ç®—æ–‡æ¡£å¸ƒå±€

2. å°†â€œå†…å®¹é«˜åº¦â€åŒæ­¥ç»™ UIScrollView

3. UIKit å†å†³å®šæ˜¯å¦è£å‰ªæœ«å°¾ç©ºç™½
```

> é—®é¢˜å°±å‡ºåœ¨ç¬¬ 3 æ­¥

3. iOS WebView çš„ç‰¹æ®Šç­–ç•¥ï¼ˆæ ¸å¿ƒï¼‰

iOS WebView å¯¹â€œæ–‡æ¡£æœ«å°¾ç©ºç™½â€æœ‰ä¸€ä¸ªé•¿æœŸå­˜åœ¨çš„ç­–ç•¥ï¼š

å¦‚æœé¡µé¢åº•éƒ¨æ˜¯â€œéå†…å®¹æ€§çš„ç©ºç™½â€ï¼Œå°¤å…¶æ˜¯ç”± margin-bottom äº§ç”Ÿçš„ï¼ŒUIKit å¯èƒ½ä¼šå°†å…¶è§†ä¸ºâ€œå¯è£å‰ªåŒºåŸŸâ€ï¼Œä¸è®¡å…¥ scroll heightã€‚

è€Œä»¥ä¸‹æƒ…å†µä¸ä¼šè¢«è£å‰ªï¼š

- padding-bottom
- å®é™…å­˜åœ¨çš„å…ƒç´ é«˜åº¦
- å ä½ div
- å¯äº¤äº’å†…å®¹


| æ–¹å¼	| æ˜¯å¦ç”Ÿæ•ˆ |
| -- | -- |
| margin-bottom | 	âŒ æ˜“è¢«è£å‰ª |
| padding-bottom | 	âœ… ç¨³å®š |
| ç©º div é«˜åº¦ | 	âœ… ç¨³å®š |
| body æœ«å°¾å†…å®¹ | 	âœ… |
    
</details>
