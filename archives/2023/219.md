---
title: 如何判断 JS 对象为空
number: '#219'
link: 'https://github.com/tofrankie/blog/issues/219'
created_at: '2023-02-26 18:38:50'
updated_at: '2025-12-10 23:32:00'
labels:
  - JS
  - '2020'
---

![配图源自 Freepik](https://cdn.jsdelivr.net/gh/tofrankie/blog@main/images/2025/12/1765380632562.jpg)

对象属性有这几种情况下：

1. 自身属性还是原型上的属性
2. 是否为可枚举属性
3. 是否包含 Symbol 属性

不同的遍历方式：

* [**for...in**]()：遍历**自身**和**继承过来**的**可枚举**属性（不包括 Symbol 属性）。
* [**Object.keys**](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/keys)：返回一个数组，包含**对象自身**所有**可枚举**属性（不包括不可枚举属性和 Symbol 属性）
* [**Object.getOwnPropertyNames**](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames)：返回一个数组，包含**对象自身**的属性（包括不可枚举属性，但不包括 Symbol 属性）
* [**Object.getOwnPropertySymbols**](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols)：返回一个数组，包含**对象自身**的所有 Symbol 属性（包括可枚举和不可枚举属性）
* [**Reflect.ownKeys**](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/ownKeys)：返回一个数组，包含**自身所有**的属性（包括 Symbol 属性，不可枚举属性以及可枚举属性）

一般的业务场景，没有那么复杂，使用 `Object.keys`：

```js
const obj = {}
Object.keys(obj).length === 0 // true
```

若要考虑不可枚举属性、Symbol 属性，使用 `Reflect.ownKeys`：

```js
const obj = {}
Reflect.ownKeys(obj).length === 0 // true
```

一句话：按需使用。

<!--

旧内容：

### 一、支持 Object.keys 情况下

* 排除 `undefined`、`null` 等报错
* 判断是否含 `key`
* 通过构造函数排除包装类，如 `new String()`、`new Boolean()` 等情况

> 这种方法有个不足的是，倘若通过 `let emptyObj = Object.create(null)` 创建空对象，那么 `emptyObj.constructor === Object` 就不成立了。

```js
function isEmptyObject(val) {
  return val && Object.keys(val).length === 0 && val.constructor === Object
}
```

### 二、不支持 Object.keys 时

```js
function isEmptyObject(val) {
  return Object.prototype.toString.call(val) === '[object Object]' && JSON.stringify(val) === '{}'
}
```

### 三、使用第三方 JS 库

```js
// Lodash 
_.isEmpty(val)

// Underscore
_.isEmpty(val)

// jQuery
$.isEmptyObject(val)
```

-->
