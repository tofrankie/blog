---
title: pnpm/yarn/npm 常用命令
number: '#88'
link: 'https://github.com/tofrankie/blog/issues/88'
created_at: '2023-02-25 20:19:23'
updated_at: '2026-01-14 17:18:23'
labels:
  - Node.js
  - '2019'
---
![配图源自 Freepik](https://cdn.jsdelivr.net/gh/tofrankie/blog@main/images/2026/1/1768382216883.jpg)

作个记录。

## pnpm

> [官网](https://pnpm.io/)

### 1. 安装 workspace 下的子包

```shell
$ pnpm add <package>@workspace:^
```

> 其中 `workspace:*` 表示该包的最新版本，也可以用 `workspace:^`（推荐）、`workspace:~`

> 除此之外，也可以在项目的 `.npmrc` 中指定 `link-workspace-packages=true`，这样就可以直接用 `pnpm add <package>` 形式，它会优先使用工作区内的包（若有）

### 2. 给子包安装依赖

在子包路径下，像平常那样用便可：

```shell
pnpm add <package>
```

在项目根目录，可以添加 `--filter` 参数以匹配子包：

```shell
$ pnpm add <package> --filter <subpackage-name>
```

> `--filter` 还支持模糊匹配，[了解更多](https://pnpm.io/filtering)

## yarn classic

> [官网](https://classic.yarnpkg.com/en/docs)

待补充...

### 1. 列举全局包

```shell
$ yarn global list
```

## npm

> [官网](https://docs.npmjs.com/cli/v11/commands/npm)

### 1. 升级包

```shell
$ npm update <package>
```

### 2. 检查包更新

```shell
$ npm outdated   # 检查当前项目的包
```

### 3. 查看包版本

```shell
$ npm view <package> versions   # 查看全部版本
$ npm view <package> version    # 查看最新版本
```

### 4. 更新指定版本

```shell
$ npm install <package>@<version>
```

### 5. 卸载包

```shell
$ npm uninstall <package>               # 删除包，但不删除包在 package.json 中的依赖关系
$ npm uninstall <package> --save        # 删除包，同时删除包在 package.json 中 dependencies 下的依赖关系
$ npm uninstall <package> --save-dev    # 删除包，同时删除包在 package.json 中 devDependencies 下的依赖关系
```

### 6. 列举全局包

```shell
$ npm list -g
```

### 7. 其他

```shell
$ npm info <package>                      # 查看包信息
$ npm view <package> engines              # 查看当前包依赖的 Node 最低版本
$ npm search <package>                    # 搜索包
$ npm root                                # 查看当前包的安装路径
$ npm root -g                             # 查看全局包的安装路径
$ npm repo <package>                      # 打开包的仓库地址
$ npm docs <package>                      # 打开包的文档
$ npm config get registry                 # 获取当前镜像源
$ npm config set registry <registry-url>  # 获取当前镜像源
```
